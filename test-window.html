<!DOCTYPE html>
<html lang="az">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P…ônc…ôr…ô Test - 3 Hiss…ôli Sistem</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            overflow: hidden;
            height: 100vh;
        }

        /* 1. NAVBAR - √úst hiss…ô */
        #navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: linear-gradient(to bottom, #4a90e2, #357abd);
            color: white;
            display: flex;
            align-items: center;
            padding: 0 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            z-index: 1000;
        }

        #navbar h1 {
            font-size: 20px;
            margin-right: 30px;
        }

        #navbar button {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 16px;
            margin-right: 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }

        #navbar button:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* 2. ƒ∞≈û√áƒ∞ MASASI - Orta hiss…ô (p…ônc…ôr…ôl…ôr burada a√ßƒ±lƒ±r) */
        #workspace {
            position: fixed;
            top: 60px;
            left: 0;
            right: 0;
            bottom: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow: hidden;
        }

        /* 3. TASKBAR - Alt hiss…ô */
        #taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50px;
            background: linear-gradient(to bottom, #2c3e50, #1a252f);
            color: white;
            display: flex;
            align-items: center;
            padding: 0 10px;
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.3);
            z-index: 10000;
        }

        .taskbar-item {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            margin-right: 5px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.2s;
        }

        .taskbar-item:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .taskbar-item.active {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .taskbar-item .close-btn {
            background: rgba(255, 0, 0, 0.6);
            border: none;
            color: white;
            width: 18px;
            height: 18px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            line-height: 1;
            padding: 0;
        }

        .taskbar-item .close-btn:hover {
            background: rgba(255, 0, 0, 0.8);
        }

        /* P∆èNC∆èR∆è STƒ∞LL∆èRƒ∞ */
        .window {
            position: absolute;
            background: white;
            border-radius: 8px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            min-width: 300px;
            min-height: 200px;
        }

        .window.maximized {
            border-radius: 0 !important;
        }

        .window-header {
            background: linear-gradient(to bottom, #f5f5f5, #e0e0e0);
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            user-select: none;
            border-bottom: 1px solid #ccc;
        }

        .window-header.active {
            background: linear-gradient(to bottom, #4a90e2, #357abd);
            color: white;
        }

        .window-title {
            font-weight: 600;
            font-size: 14px;
        }

        .window-controls {
            display: flex;
            gap: 5px;
        }

        .window-controls button {
            width: 28px;
            height: 28px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .btn-minimize {
            background: #ffd700;
        }

        .btn-minimize:hover {
            background: #ffed4e;
        }

        .btn-maximize {
            background: #4caf50;
        }

        .btn-maximize:hover {
            background: #66bb6a;
        }

        .btn-close {
            background: #f44336;
            color: white;
        }

        .btn-close:hover {
            background: #e53935;
        }

        .window-content {
            padding: 20px;
            overflow: auto;
            height: calc(100% - 50px);
        }

        .resize-handle {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 15px;
            height: 15px;
            cursor: nwse-resize;
            background: linear-gradient(135deg, transparent 50%, #999 50%);
        }

        /* R…ông kodlarƒ± */
        .color-box {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 3px;
            margin-right: 10px;
            vertical-align: middle;
        }

        .navbar-color {
            background: linear-gradient(to bottom, #4a90e2, #357abd);
        }

        .workspace-color {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .taskbar-color {
            background: linear-gradient(to bottom, #2c3e50, #1a252f);
        }
    </style>
</head>

<body>
    <!-- 1. NAVBAR -->
    <div id="navbar">
        <h1>üñ•Ô∏è P…ônc…ôr…ô Test Sistemi</h1>
        <button onclick="createWindow()">‚ûï Yeni P…ônc…ôr…ô</button>
        <button onclick="createWindow('Qaim…ô')">üìÑ Qaim…ô A√ß</button>
        <button onclick="createWindow('C…ôdv…ôl')">üìä C…ôdv…ôl A√ß</button>
    </div>

    <!-- 2. ƒ∞≈û√áƒ∞ MASASI (Workspace) -->
    <div id="workspace">
        <!-- P…ônc…ôr…ôl…ôr buraya …ôlav…ô olunacaq -->
    </div>

    <!-- 3. TASKBAR -->
    <div id="taskbar">
        <div style="margin-right: auto; font-weight: bold;">üìã A√ßƒ±q P…ônc…ôr…ôl…ôr:</div>
        <!-- Taskbar items buraya …ôlav…ô olunacaq -->
    </div>

    <script>
        let windowCounter = 0;
        let activeWindow = null;
        let windows = new Map();
        let zIndexCounter = 100;

        // P…ônc…ôr…ô yarat
        function createWindow(type = 'P…ônc…ôr…ô') {
            windowCounter++;
            const id = `window-${windowCounter}`;

            // P…ônc…ôr…ô elementi
            const windowEl = document.createElement('div');
            windowEl.className = 'window';
            windowEl.id = id;
            windowEl.style.width = '500px';
            windowEl.style.height = '400px';
            windowEl.style.left = `${50 + (windowCounter * 30)}px`;
            windowEl.style.top = `${50 + (windowCounter * 30)}px`;
            windowEl.style.zIndex = ++zIndexCounter;

            // P…ônc…ôr…ôy…ô klikl…ôndikd…ô aktiv et
            windowEl.onclick = function (e) {
                // Event bubbling-i dayandƒ±r ki, workspace click handler i≈ül…ôm…ôsin
                e.stopPropagation();
                activateWindow(id);
            };

            windowEl.innerHTML = `
                <div class="window-header" onmousedown="startDrag(event, '${id}')">
                    <div class="window-title">${type} #${windowCounter}</div>
                    <div class="window-controls">
                        <button class="btn-minimize" onclick="minimizeWindow('${id}')">‚àí</button>
                        <button class="btn-maximize" onclick="maximizeWindow('${id}')">‚ñ°</button>
                        <button class="btn-close" onclick="closeWindow('${id}')">√ó</button>
                    </div>
                </div>
                <div class="window-content">
                    <h3>${type} M…ôzmunu</h3>
                    <p>Bu ${windowCounter} n√∂mr…ôli p…ônc…ôr…ôdir.</p>
                    <p>P…ônc…ôr…ôni s√ºr√ºkl…ôy…ô, √∂l√ß√ºs√ºn√º d…ôyi≈ü…ô v…ô idar…ô ed…ô bil…ôrsiniz.</p>
                    
                    <h4 style="margin-top: 20px;">Sistem Hiss…ôl…ôri:</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin: 10px 0;">
                            <span class="color-box navbar-color"></span>
                            <strong>1. Navbar</strong> - √úst menyu (z-index: 1000)
                        </li>
                        <li style="margin: 10px 0;">
                            <span class="color-box workspace-color"></span>
                            <strong>2. ƒ∞≈ü√ßi Masasƒ±</strong> - P…ônc…ôr…ôl…ôr burada a√ßƒ±lƒ±r
                        </li>
                        <li style="margin: 10px 0;">
                            <span class="color-box taskbar-color"></span>
                            <strong>3. Taskbar</strong> - Alt panel (z-index: 10000)
                        </li>
                    </ul>
                    
                    <p style="margin-top: 20px; padding: 10px; background: #f0f0f0; border-radius: 5px;">
                        <strong>Test:</strong> P…ônc…ôr…ôni h…ôr yer…ô s√ºr√ºkl…ôyin. 
                        Navbar v…ô Taskbar-ƒ±n √ºst√ºn…ô √ßƒ±xmamalƒ±dƒ±r!
                    </p>
                </div>
                <div class="resize-handle" onmousedown="startResize(event, '${id}')"></div>
            `;

            document.getElementById('workspace').appendChild(windowEl);

            // Taskbar item …ôlav…ô et
            addTaskbarItem(id, `${type} #${windowCounter}`);

            // Window data saxla
            windows.set(id, {
                element: windowEl,
                isMaximized: false,
                normalState: null
            });

            // Aktiv et
            activateWindow(id);
        }

        // Taskbar item …ôlav…ô et
        function addTaskbarItem(id, title) {
            const taskbar = document.getElementById('taskbar');
            const item = document.createElement('div');
            item.className = 'taskbar-item';
            item.id = `taskbar-${id}`;
            item.innerHTML = `
                <span>${title}</span>
                <button class="close-btn" onclick="closeWindow('${id}'); event.stopPropagation();">√ó</button>
            `;
            item.onclick = () => restoreWindow(id);
            taskbar.appendChild(item);
        }

        // P…ônc…ôr…ôni aktiv et
        function activateWindow(id) {
            // ∆èvv…ôlki aktiv p…ônc…ôr…ôni deaktiv et
            if (activeWindow) {
                const prevWindow = document.getElementById(activeWindow);
                if (prevWindow) {
                    prevWindow.querySelector('.window-header').classList.remove('active');
                }
                const prevTaskbarItem = document.getElementById(`taskbar-${activeWindow}`);
                if (prevTaskbarItem) {
                    prevTaskbarItem.classList.remove('active');
                }
            }

            // Yeni p…ônc…ôr…ôni aktiv et
            activeWindow = id;
            const windowEl = document.getElementById(id);
            if (windowEl) {
                windowEl.style.zIndex = ++zIndexCounter;
                windowEl.querySelector('.window-header').classList.add('active');
            }

            const taskbarItem = document.getElementById(`taskbar-${id}`);
            if (taskbarItem) {
                taskbarItem.classList.add('active');
            }
        }

        // P…ônc…ôr…ôni minimize et
        function minimizeWindow(id) {
            const windowEl = document.getElementById(id);
            if (windowEl) {
                windowEl.style.display = 'none';
            }
        }

        // P…ônc…ôr…ôni restore et
        function restoreWindow(id) {
            const windowEl = document.getElementById(id);
            if (windowEl) {
                windowEl.style.display = 'block';
                activateWindow(id);
            }
        }

        // P…ônc…ôr…ôni maximize et
        function maximizeWindow(id) {
            const windowData = windows.get(id);
            if (!windowData) return;

            const windowEl = windowData.element;

            if (!windowData.isMaximized) {
                // Normal v…ôziyy…ôti saxla
                windowData.normalState = {
                    left: windowEl.style.left,
                    top: windowEl.style.top,
                    width: windowEl.style.width,
                    height: windowEl.style.height
                };

                // Maximize et - workspace-in tam √∂l√ß√ºs√ºnd…ô
                windowEl.style.left = '0';
                windowEl.style.top = '0';
                windowEl.style.width = '100%';
                windowEl.style.height = '100%';
                windowEl.classList.add('maximized');
                windowData.isMaximized = true;
            } else {
                // Restore et
                if (windowData.normalState) {
                    windowEl.style.left = windowData.normalState.left;
                    windowEl.style.top = windowData.normalState.top;
                    windowEl.style.width = windowData.normalState.width;
                    windowEl.style.height = windowData.normalState.height;
                }
                windowEl.classList.remove('maximized');
                windowData.isMaximized = false;
            }
        }

        // P…ônc…ôr…ôni baƒüla
        function closeWindow(id) {
            const windowEl = document.getElementById(id);
            const taskbarItem = document.getElementById(`taskbar-${id}`);

            if (windowEl) windowEl.remove();
            if (taskbarItem) taskbarItem.remove();

            windows.delete(id);

            if (activeWindow === id) {
                activeWindow = null;
            }
        }

        // Drag funksiyasƒ±
        let dragData = null;

        function startDrag(e, id) {
            const windowEl = document.getElementById(id);
            const windowData = windows.get(id);

            // Maximize olunmu≈ü p…ônc…ôr…ôni s√ºr√ºkl…ôm…ô
            if (windowData && windowData.isMaximized) return;

            activateWindow(id);

            dragData = {
                id: id,
                startX: e.clientX,
                startY: e.clientY,
                initialLeft: parseInt(windowEl.style.left),
                initialTop: parseInt(windowEl.style.top)
            };

            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
            e.preventDefault();
        }

        function drag(e) {
            if (!dragData) return;

            const dx = e.clientX - dragData.startX;
            const dy = e.clientY - dragData.startY;

            const windowEl = document.getElementById(dragData.id);
            const newLeft = dragData.initialLeft + dx;
            const newTop = dragData.initialTop + dy;

            // Workspace s…ôrh…ôdl…ôri daxilind…ô saxla
            const workspace = document.getElementById('workspace');
            const maxLeft = workspace.clientWidth - windowEl.offsetWidth;
            const maxTop = workspace.clientHeight - windowEl.offsetHeight;

            windowEl.style.left = Math.max(0, Math.min(newLeft, maxLeft)) + 'px';
            windowEl.style.top = Math.max(0, Math.min(newTop, maxTop)) + 'px';
        }

        function stopDrag() {
            dragData = null;
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', stopDrag);
        }

        // Resize funksiyasƒ±
        let resizeData = null;

        function startResize(e, id) {
            const windowEl = document.getElementById(id);
            const windowData = windows.get(id);

            // Maximize olunmu≈ü p…ônc…ôr…ôni resize etm…ô
            if (windowData && windowData.isMaximized) return;

            activateWindow(id);

            resizeData = {
                id: id,
                startX: e.clientX,
                startY: e.clientY,
                initialWidth: windowEl.offsetWidth,
                initialHeight: windowEl.offsetHeight
            };

            document.addEventListener('mousemove', resize);
            document.addEventListener('mouseup', stopResize);
            e.preventDefault();
            e.stopPropagation();
        }

        function resize(e) {
            if (!resizeData) return;

            const dx = e.clientX - resizeData.startX;
            const dy = e.clientY - resizeData.startY;

            const windowEl = document.getElementById(resizeData.id);
            const newWidth = Math.max(300, resizeData.initialWidth + dx);
            const newHeight = Math.max(200, resizeData.initialHeight + dy);

            windowEl.style.width = newWidth + 'px';
            windowEl.style.height = newHeight + 'px';
        }

        function stopResize() {
            resizeData = null;
            document.removeEventListener('mousemove', resize);
            document.removeEventListener('mouseup', stopResize);
        }

        // Workspace-…ô klikl…ôndikd…ô aktiv p…ônc…ôr…ôni deaktiv et
        document.getElementById('workspace').addEventListener('click', function (e) {
            if (e.target === this && activeWindow) {
                const prevWindow = document.getElementById(activeWindow);
                if (prevWindow) {
                    prevWindow.querySelector('.window-header').classList.remove('active');
                }
                const prevTaskbarItem = document.getElementById(`taskbar-${activeWindow}`);
                if (prevTaskbarItem) {
                    prevTaskbarItem.classList.remove('active');
                }
                activeWindow = null;
            }
        });

        // ƒ∞lk p…ônc…ôr…ôni a√ß
        createWindow('Xo≈ü g…ôldiniz');
    </script>
</body>

</html>